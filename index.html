<!DOCTYPE html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="robots" content="noindex" />
<title>Home</title>

<script>
  const CONFIG = {
    // Action to take when the clock is clicked. Options include:
    // - "Menu" to show the help menu
    // - "Search" to show the search input (useful on mobile)
    clockOnClickAction: 'Menu',

    // The delimiter between the hours and minutes on the clock.
    clockDelimiter: ' ',

    // Show AM/PM indication when CONFIG.clockTwentyFourHours is false.
    clockShowAmPm: true,

    // Show seconds on the clock. A monospaced font is recommended for this.
    clockShowSeconds: true,

    // Show a twenty-four-hour clock instead of a twelve-hour clock.
    clockTwentyFourHour: true,

    // The "category", "name", "key", "url", "search" path and "color"/"hues"
    // for your commands. If none of the specified keys are matched, the * key
    // is used. Commands without a category don't show up in the help menu.

    // You can specify either "hues" or "color" to change a command's background
    // color. "hues" is an array of HSL hues that will be converted into a
    // linear gradient. There are CSS variables defined below, prefixed with
    // "--command-color-", that determine the gradient angle, saturation,
    // lightness and alpha for each generated color. "color", if defined, will
    // be applied as-is to the command's "background" CSS property.
    commands: [
      {
        name: 'Google',
        key: '*',
        url: 'https://encrypted.google.com',
        search: '/search?q={}',
        color: '#000000',
      },
      {
        category: '',
        name: 'IP',
        key: 'ip',
        url: 'https://eyep.dev/',
        search: '/',
        color: 'linear-gradient(135deg, #303030, #272727)',
      },
	  {
        category: 'Feed',
        name: 'Reddit',
        key: 'r',
        url: 'https://www.reddit.com',
        search: 'site:reddit.com {}',
        color: 'linear-gradient(135deg, #ff4500, #D33A02)',
      },
      {
        category: 'Feed',
        name: 'News',
        key: 'new',
        url: 'https://news.google.com',
        search: '/search?q={}',
        color: 'linear-gradient(135deg, #4285F4, #274F8F)',
      },
      {
        category: 'Feed',
        name: 'Instagram',
        key: 'i',
        url: 'https://www.instagram.com',
        search: '/explore/tags/{}',
        color: 'linear-gradient(135deg, #405de6, #fd1d1d)',
      },
    {
        category: 'Feed',
        name: 'Twitter',
        key: 'tw',
        url: 'https://twitter.com/',
        search: '/search?q={}',
        color: 'linear-gradient(135deg, #1ca0f1, #15202b)',
      },
	  {
        category: 'Feed',
        name: 'Product Hunt',
        key: 'pro',
        url: 'https://www.producthunt.com',
        search: '/search?q={}',
        color: 'linear-gradient(135deg, #da552f, #da802f)',
      },
      {
        category: 'Feed',
        name: 'Zeit',
        key: 'ze',
        url: 'https://www.zeit.de/',
        search: '/suche/index?q={}',
        color: 'linear-gradient(135deg, #94a0b0, #1d1d1b)',
      },
	  {
        category: 'Feed',
        name: 'Spiegel',
        key: 'spi',
        url: 'https://www.spiegel.de/',
        search: '/suche/?suchbegriff={}',
        color: 'linear-gradient(135deg, #981914, #831612)',
      },
	  {
        category: 'Feed',
        name: 'NY Times',
        key: 'ny',
        url: 'https://www.nytimes.com',
        search: '/search?query={}',
        color: 'linear-gradient(135deg, #757575, #292929)',
      },
    {
        category: 'Feed',
        name: 'Verge',
        key: 'v',
        url: 'https://www.theverge.com',
        search: '/search?q={}',
        color: 'linear-gradient(135deg, #DD1862, #060048)',
      },
	  {
        category: 'Feed',
        name: 'Guardian',
        key: 'gu',
        url: 'https://www.theguardian.com/',
        search: '/',
        color: 'linear-gradient(135deg, #052962, #021026)',
      },
      {
        category: 'Tools',
        name: 'Calendar',
        key: 'c',
        url: 'https://calendar.google.com',
        search: '/calendar/r/search?q={}',
        color: 'linear-gradient(135deg, #B5D0FB, #4484F0)',
      },
      {
        category: 'Tools',
        name: 'Keep',
        key: 'k',
        url: 'https://keep.google.com/',
        search: '/#search/text%253D{}',
        color: 'linear-gradient(135deg, #ffffff, #f4b70a)',
      },
	  {
        category: 'Tools',
        name: 'Translate',
        key: 't',
        url: 'https://translate.google.com',
        search: '/#view=home&op=translate&sl=auto&tl=en&text={}',
        color: 'linear-gradient(135deg, #73AAF1, #1566D1)',
      },
      {
        category: 'Tools',
        name: 'Maps',
        key: 'm',
        url: 'https://www.google.com/maps/',
        search: '/maps/search/{}',
        color: 'linear-gradient(135deg, #D4F1C9, #1EA361)',
      },
	  {
        category: 'Tools',
        name: 'OneDrive',
        key: 'o',
        url: 'https://onedrive.live.com/?id=root&cid=43A73B6E9809FDD5',
        search: '/?id=root&cid=43A73B6E9809FDD5&qt=search&q={}',
        color: 'linear-gradient(135deg, #0078D4, #073785)',
      },
    {
        category: 'Tools',
        name: 'Convert',
        key: 'co',
        url: 'https://convertio.co/',
        search: '/{}',
        color: 'linear-gradient(135deg, #ff3333, #333333)',
      },
      {
        category: 'Tools',
        name: 'Thesaurus',
        key: 'th',
        url: 'https://www.powerthesaurus.org',
        search: '/{}/synonyms',
        color: 'linear-gradient(135deg, #168BE8, #BF76C7)',
      },
      {
        category: 'Tools',
        name: 'TempMail',
        key: 'tm',
        url: 'https://temp-mail.org/en/',
        search: '/',
        color: 'linear-gradient(135deg, #00c497, #22242b)',
      },
	  {
        category: 'Tools',
        name: 'Sendy',
        key: 'sa',
        url: 'https://sendycloud.com/transfer/widget',
        search: '/',
        color: 'linear-gradient(135deg, #f8f9fa, #20c997)',
      },
	  {
        category: 'Tools',
        name: 'Instantio',
        key: 'ii',
        url: 'https://instant.io/',
        search: '/',
        color: 'linear-gradient(135deg, #f8283b, #7d868c)',
      },
	  {
        category: 'Tools',
        name: 'Witeboard',
        key: 'wi',
        url: 'https://witeboard.com/55baca70-b4a1-11e9-9a7d-e3a32c392bf8',
        search: '/',
        color: 'linear-gradient(135deg, #ffffff, #9A9A9A)',
      },
	  {
        category: 'Media/Books',
        name: 'YouTube',
        key: 'y',
        url: 'https://youtube.com/feed/subscriptions',
        search: '/results?search_query={}',
        color: 'linear-gradient(135deg, #FF0101, #2C2C2C)',
      },
      {
        category: 'Media/Books',
        name: 'Spotify',
        key: 's',
        url: 'https://open.spotify.com',
        search: '/search/{}',
        color: 'linear-gradient(135deg, #1ED760, #171717)',
      },
      {
        category: 'Media/Books',
        name: 'Netflix',
        key: 'n',
        url: 'https://www.netflix.com/browse',
        search: '/search?q={}',
        color: 'linear-gradient(135deg, #A30912, #000000)',
      },
      {
        category: 'Media/Books',
        name: 'Twitch',
        key: 'twi',
        url: 'https://www.twitch.tv/directory/following',
		search: '/search?q={}',
        color: 'linear-gradient(135deg, #6441A4, #19171C)',
      },
      {
        category: 'Media/Books',
        name: 'Last.fm',
        key: 'la',
        url: 'https://www.last.fm/',
		search: '/search?term={}',
        color: 'linear-gradient(135deg, #b90000, #303030)',
      },
	  {
        category: 'Media/Books',
        name: 'Letterboxed',
        key: 'le',
        url: 'https://letterboxd.com',
		search: '/search/{}',
        color: 'linear-gradient(135deg, #00440D, #1B2126)',
      },
	  {
        category: 'Sites',
        name: 'Amazon',
        key: 'a',
        url: 'https://smile.amazon.de',
        search: '/s?k={}',
        color: 'linear-gradient(135deg, #FF9900, #232F3E)',
      },
	  {
        category: 'Sites',
        name: 'Wikipedia',
        key: 'w',
        url: 'https://en.wikipedia.org',
        search: '/w/index.php?search={}',
        color: 'linear-gradient(135deg, #D6D6D6, #868686)',
      },
	  {
        category: 'Sites',
        name: 'WhatsApp',
        key: 'wh',
        url: 'https://web.whatsapp.com/',
        search: '/',
        color: 'linear-gradient(135deg, #4dee6a, #1c8b82)',
      },
      {
        category: 'Sites',
        name: 'Messages',
        key: 'me',
        url: 'https://messages.google.com/web/conversations',
        search: '/',
        color: 'linear-gradient(135deg, #b6d0fd, #1d7eec)',
      },
	  {
        category: 'Sites',
        name: 'Gmail',
        key: 'g',
        url: 'https://mail.google.com/mail/u/0/#inbox',
        search: '/mail/u/0/#search/{}',
        color: 'linear-gradient(135deg, #ffffff, #D44B3D)',
      },
      {
        category: 'Sites',
        name: 'AOL',
        key: 'ao',
        url: 'https://mail.aol.com/webmail-std/en-us/suite',
        search: '/webmail-std/en-us/suite',
        color: 'linear-gradient(135deg, #ffffff, #1291E0)',
      },
	  {
        category: 'Sites',
        name: 'Passwords',
        key: 'p',
        url: 'https://passwords.google.com',
        search: '/',
        color: 'linear-gradient(135deg, #0269B7, #022D4E)',
      },
	  {
        category: 'Sites',
        name: 'Photos',
        key: 'ph',
        url: 'https://photos.google.com',
        search: '/search/{}',
        color: 'linear-gradient(135deg, #1a73e8, #ffffff)',
      },
	  {
        category: 'Sites',
        name: 'N26',
        key: 'n26',
        url: 'https://app.n26.com/login',
        search: '/',
        color: 'linear-gradient(135deg, #F5F5F5, #36A18B)',
      },
      {
        category: 'Sites',
        name: 'Geizhals',
        key: 'ge',
        url: 'https://geizhals.de',
        search: '/?fs={}',
        color: 'linear-gradient(135deg, #ffffff, #115699)',
      },
      {
        category: 'Sites',
        name: 'Tradingview',
        key: 'tr',
        url: 'https://www.tradingview.com/chart/SPHl9gzX/',
        search: '/chart/{}',
        color: 'linear-gradient(135deg, #131722, #131722)',
      },
	  {
        category: 'Media/Books',
        name: 'AllOpen',
        key: 'al',
        url: 'https://allopen.org',
        search: '/',
        color: 'linear-gradient(135deg, #ffffff, #2C2B27)',
      },
      {
        category: 'Data',
        name: 'AIO Search',
        key: 'ai',
        url: 'http://www.aiosearch.com/',
        search: '/search/4/Torrents/{}',
        color: 'linear-gradient(135deg, #a3c3ea, #000000)',
      },
      {
        category: 'Data',
        name: 'GitHub',
        key: 'git',
        url: 'https://github.com/',
        search: '/search?q={}',
        color: 'linear-gradient(135deg, #fafbfc, #24292e)',
      },
      {
        category: '',
        name: 'Repository',
        key: 'github',
        url: 'https://github.com/Clinqk/clinqkhome',
        search: '/Clinqk/clinqkhome/search?q={}',
        color: 'linear-gradient(135deg, #24292e, #fafbfc)',
      },
      {
        category: 'Data',
        name: 'Piratebay',
        key: 'pb',
        url: 'https://thepiratebay.org',
        search: '/search/{}',
        color: 'linear-gradient(135deg, #D2B9A6, #583D28)',
      },
	  {
        category: 'Data',
        name: 'Torrentz2',
        key: 'tor',
        url: 'https://torrentz2.eu',
        search: '/search?f={}',
        color: 'linear-gradient(135deg, #336699, #FFB090)',
      },
	  {
        category: 'Data',
        name: 'Rutracker',
        key: 'ru',
        url: 'https://rutracker.org',
        search: '/forum/search_cse.php?q={}',
        color: 'linear-gradient(135deg, #79C33B, #E92738)',
      },
	  {
        category: 'Data',
        name: '1337X',
        key: '13',
        url: 'https://1337x.to/trending',
        search: '/search/{}/1/',
        color: 'linear-gradient(135deg, #D63600, #161616)',
      },
	  {
        category: 'Data',
        name: 'Rarbg',
        key: 'ra',
        url: 'https://rarbg.to/torrents.php',
        search: '/torrents.php?search={}',
        color: 'linear-gradient(135deg, #3860BB, #333333)',
      },
	  {
        category: 'Data',
        name: 'Rutor',
        key: 'rut',
        url: 'http://rutor.info',
        search: '/search/{}',
        color: 'linear-gradient(135deg, #FEEC04, #9E0206)',
      },
	  {
        category: 'Data',
        name: 'Zooqle',
        key: 'zo',
        url: 'https://zooqle.com',
        search: '/search?q={}',
        color: 'linear-gradient(135deg, #B2B04C, #707070)',
      },
	  {
        category: 'Data',
        name: 'LimeTorrents',
        key: 'lim',
        url: 'https://www.limetorrents.info',
        search: '/search/all/{}',
        color: 'linear-gradient(135deg, #BCD37B, #3A5000)',
      },
	  {
        category: 'Data',
        name: 'YTS',
        key: 'yts',
        url: 'https://yts.lt/browse-movies/0/1080p/all/0/latest',
        search: '/browse-movies/{}/1080p/all/0/latest',
        color: 'linear-gradient(135deg, #6AC045, #171717)',
      },
	  {
        category: 'Media/Books',
        name: 'ZLibrary',
        key: 'z',
        url: 'https://b-ok.cc',
        search: '/s/?q={}',
        color: 'linear-gradient(135deg, #8ECD51, #49AFD0)',
      },
	  {
        category: 'Media/Books',
        name: 'Mobilism',
        key: 'mo',
        url: 'https://forum.mobilism.org',
        search: '/search.php?keywords={}&sr=topics&sf=titleonly',
        color: 'linear-gradient(135deg, #0072C6, #000000)',
      },
	  {
        category: 'Media/Books',
        name: 'LibGen',
        key: 'lib',
        url: 'https://libgen.is',
        search: '/search.php?req={}&lg_topic=libgen&open=0&view=simple&res=100&phrase=1&column=def',
        color: 'linear-gradient(135deg, #C6DEFF, #BBBBBB)',
      },
	  {
        category: 'Learn',
        name: 'Khan',
        key: 'kh',
        url: 'https://www.khanacademy.org/',
        search: '/search?page_search_query={}',
        color: 'linear-gradient(135deg, #14BF96, #1865F2)',
      },
	  {
        category: 'Learn',
        name: 'Awesome',
        key: 'aw',
        url: 'https://learnawesome.org',
        search: '/',
        color: 'linear-gradient(135deg, #ffffff, #6B15B6)',
      },
	  {
        category: 'Learn',
        name: 'Brilliant',
        key: 'br',
        url: 'https://brilliant.org',
        search: '/',
        color: 'linear-gradient(135deg, #F7F7F8, #1F1F1F)',
      },
	  {
        category: 'Learn',
        name: 'Duolingo',
        key: 'du',
        url: 'https://www.duolingo.com',
        search: '/',
        color: 'linear-gradient(135deg, #78C800, #1CB0F6)',
      },
	  {
        category: 'Learn',
        name: 'Skillshare',
        key: 'sk',
        url: 'https://www.skillshare.com',
        search: '/search?query={}',
        color: 'linear-gradient(135deg, #ffffff, #017A84)',
      },
	  {
        category: 'Learn',
        name: 'Egghead',
        key: 'eg',
        url: 'https://egghead.io',
        search: '/search?query={}',
        color: 'linear-gradient(135deg, #278654, #141618)',
      },
	  {
        category: 'Learn',
        name: '2uts',
        key: '2',
        url: 'https://2uts.com',
        search: '/?s={}',
        color: 'linear-gradient(135deg, #ffffff, #000000)',
      },
    ],

    // Instantly redirect when a key is matched. Put a space before any other
    // queries to prevent unwanted redirects.
    queryInstantRedirect: false,

    // Open triggered queries in a new tab.
    queryNewTab: false,

    // The delimiter between a command key and a path. For example, you'd type
    // "r/r/unixporn" to go to "https://reddit.com/r/unixporn".
    queryPathDelimiter: '/',

    // The delimiter between a command key and your search query. For example,
    // to search GitHub for tilde, you'd type "g'tilde".
    querySearchDelimiter: ":",
  
    /**
     * Invert color theme
     */
    invertedColors: true,

    // Scripts allow you to open or search multiple sites at once. For example,
    // to search Google, DuckDuckGo, Ecosia and Bing for cats at the same time,
    // you'd type "se'cats".
    scripts: {
      se: ['bing', 'ecosia', 'duckduckgo', '*'],
      sn: ['f', 'n', 's'],
      sp: ['g/notifications', 'a', 's/client/T7K3RFA1M', 'm/mail/u/1'],
    },

    // Default search suggestions for the specified queries.
    suggestionDefaults: {
      g: ['', '',],
      l: [''],
      r: [''],
      s: [''],
    },

    // The order, limit and minimum characters for each suggestion influencer.
    // An "influencer" is just a suggestion source. "limit" is the max number of
    // suggestions an influencer will produce. "minChars" determines how many
    // characters need to be typed before the influencer kicks in.

    // The following influencers are available:
    // - "Default" suggestions come from CONFIG.suggestionDefaults (sync)
    // - "History" suggestions come from your previously entered queries (sync)
    // - "DuckDuckGo" suggestions come from the duck duck go search api (async)

    // To disable suggestions, remove all influencers.
    suggestionInfluencers: [
      { name: 'Default', limit: 4, minChars: 0 },
      { name: 'History', limit: 2 },
      { name: 'DuckDuckGo', limit: 8, minChars: 0 },
    ],

    // Max number of suggestions that will ever be shown.
    suggestionLimit: 10,
  };

    // Get invertedColors preference from cookies
    CONFIG.invertedColors = localStorage.getItem('invertColorCookie')
      ? JSON.parse(localStorage.getItem('invertColorCookie'))
      : CONFIG.invertedColors;
</script>

<style>
  :root {
    --base-background: #232931;
    --base-foreground: #ECF0F3;
    --help-background: #232931;
    --help-command-key-foreground: #232931;
    --help-foreground: #e3e6ec;
    --search-background: #000;
    --search-foreground: #fff;
    --neoback: 5px 5px 10px #bdc0c2, -5px -5px 10px #ffffff;
    --neofront: 5px 5px 10px #0e1014, -5px -5px 10px #38424e;
    --search-highlight-background: hsla(0, 0%, 100%, 0.1);
    --command-color-alpha: 0.9;
    --command-color-gradient: 45deg;
    --command-color-lightness: 50%;
    --command-color-saturation: 50%;

    background: linear-gradient(145deg, #B3B4B7, #FFFFFF);

    --font-family: Google Sans Medium, sans-serif, apple-system, BlinkMacSystemFont, Helvetica Neue, Helvetica,
      Ubuntu, Roboto, Noto, Segoe UI, Arial, sans-serif;

    --clock-font-family: Google Sans Medium, sans-serif, Menlo, Consolas, Monaco, Liberation Mono,
      Lucida Console, monospace;

    --base-font-size: 18px;
    --clock-font-size: 2rem;
    --search-input-font-size: 2rem;

    --font-weight-black: 900;
    --font-weight-bold: 700;
    --font-weight-normal: 400;

    --base-border-radius: 50%;
    --base-transition-speed: 0.2s;

    --help-category-columns: 1;

    --search-input-text-align: left;
    --search-suggestion-flex-direction: column;
    --search-suggestions-align-items: flex-start;
  }

  @media (min-width: 400px) {
    :root {
      --clock-font-size: 4rem;
    }
  }

  @media (min-width: 650px) {
    :root {
      --clock-font-size: 6rem;
      --help-category-columns: 2;
      --search-input-text-align: center;
      --search-suggestions-align-items: center;
    }
  }

  @media (min-width: 900px) {
    :root {
      --search-input-font-size: 2.5rem;
      --help-category-columns: 3;
      --search-suggestion-flex-direction: row;
    }
  }

  @media (min-width: 1200px) {
    :root {
      --help-category-columns: 4;
    }
  }

  @media (min-width: 1500px) {
    :root {
      --help-category-columns: 5;
    }
  }
  
  @media (min-width: 1700px) {
    :root {
      --help-category-columns: 6;
    }
  }

  * {
    box-sizing: border-box;
  }

  html {
    font-family: var(--font-family);
    font-size: var(--base-font-size);
    font-weight: var(--font-weight-bold);
  }

  body {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    background: var(--base-background);
    color: var(--base-foreground);
  }

  input,
  button {
    display: block;
    width: 100%;
    margin: 0;
    padding: 0;
    background: transparent;
    color: inherit;
    font-family: var(--font-family);
    font-weight: var(--font-weight-normal);
    font-size: 1rem;
  }

  input,
  button,
  input:focus,
  button:focus {
    border: 0;
    outline: 0;
    -webkit-appearance: none;
    -moz-appearance: none;
  }

  ul,
  li {
    margin: 0;
    padding: 0;
    list-style: none;
  }

  a,
  a:focus {
    color: inherit;
    outline: 0;
  }

  .center {
    display: flex;
    width: 100%;
    height: 100%;
  }

  .center > * {
    margin: auto;
  }

  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    overflow: auto;
    width: 100%;
    height: 100%;
  }

  .clock {
    display: block;
    font-family: var(--clock-font-family);
    font-size: var(--clock-font-size);
    cursor: pointer;
  }

  body.form .clock {
    visibility: hidden;
  }

  .help {
    background: var(--help-background);
    visibility: hidden;
    color: var(--help-foreground);
    z-index: 1;
  }

  body.help .help {
    visibility: visible;
  }

  body.form .help {
    visibility: hidden;
  }

  .categories {
    padding: 3rem 0;
    columns: var(--help-category-columns);
  }

  .category {
    padding: 0.5rem;
    vertical-align: text-top;
    break-inside: avoid-column;
    page-break-inside: avoid;
  }

  .category-name {
    margin-bottom: 1.5rem;
    font-size: 0.75rem;
    font-weight: var(--font-weight-black);
    letter-spacing: 0.075em;
    text-transform: uppercase;
  }

  .command a {
    display: flex;
    align-items: baseline;
    position: relative;
    width: 100%;
    padding: 0.25rem 0;
    text-decoration: none;
  }

  .command-key {
    display: block;
    flex-shrink: 0;
    float: left;
    width: 2rem;
    height: 2rem;
    margin-right: 1rem;
    border-radius: var(--base-border-radius);
    color: var(--help-command-key-foreground);
    font-weight: var(--font-weight-bold);
    line-height: 2rem;
    font-size: 0.8rem;
    text-align: center;
  }

  .command-name {
    position: relative;
  }

  .command-name::after {
    content: ' ';
    display: none;
    position: absolute;
    right: 0;
    bottom: 0.1rem;
    left: 0;
    height: 0.1rem;
    border-radius: 1px;
    transition: transform var(--base-transition-speed),
      opacity var(--base-transition-speed);
    transform: translateX(-2rem);
    background: var(--base-foreground);
    opacity: 0;
    z-index: -1;
  }

  .command a:hover .command-name::after,
  .command a:focus .command-name::after {
    transform: translateX(0);
    opacity: 1;
  }

  body.help .command-name::after {
    display: block;
  }

  .search-form {
    background: var(--search-background);
    color: var(--search-foreground);
    visibility: hidden;
  }

  body.form .search-form {
    visibility: visible;
  }

  .search-form-content {
    width: 100%;
  }

  .search-input {
    width: 100%;
    padding: 0 1rem;
    font-size: var(--search-input-font-size);
    font-weight: var(--font-weight-black);
    text-align: var(--search-input-text-align);
    text-transform: uppercase;
  }

  .search-suggestions {
    display: none;
    justify-content: center;
    align-items: var(--search-suggestions-align-items);
    flex-direction: var(--search-suggestion-flex-direction);
    flex-wrap: wrap;
    overflow: hidden;
  }

  body.suggestions .search-suggestions {
    display: flex;
    margin-top: 2rem;
  }

  .search-suggestion {
    padding: 0.75rem 1rem;
    border-radius: var(--base-border-radius);
    font-weight: var(--font-weight-bold);
    text-align: left;
    white-space: nowrap;
    cursor: pointer;
  }

  .search-suggestion.highlight {
    background: var(--search-highlight-background);
  }

  .search-suggestion-match {
    font-weight: var(--font-weight-normal);
  }
</style>

<link rel="icon" type="image/png" href="https://cdn0.iconfinder.com/data/icons/solid-line-essential-ui-icon-set/512/essential_set_home-512.png">

<div class="center neomorph"><time class="clock" id="clock"></time></div>
<form
  autocomplete="off"
  class="center overlay search-form"
  id="search-form"
  spellcheck="false"
>
  <div class="search-form-content">
    <input class="search-input" id="search-input" title="search" type="text" />
    <ul class="search-suggestions" id="search-suggestions"></ul>
  </div>
</form>
<aside class="center help overlay" id="help"></aside>

<script>
  const $ = {
    bodyClassAdd: (c) => $.el('body').classList.add(c),
    bodyClassRemove: (c) => $.el('body').classList.remove(c),
    el: (s) => document.querySelector(s),
    els: (s) => [].slice.call(document.querySelectorAll(s) || []),
    escapeRegex: (s) => s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&'),
    flattenAndUnique: (arr) => [...new Set([].concat.apply([], arr))],
    isDown: (e) => ['ctrl-n', 'down', 'tab'].includes($.whichKey(e)),
    isRemove: (e) => ['backspace', 'delete'].includes($.whichKey(e)),
    isUp: (e) => ['ctrl-p', 'up', 's-tab'].includes($.whichKey(e)),
    pad: (v) => ('0' + v.toString()).slice(-2),
    whichKey: (e) => {
      const ctrl = e.ctrlKey;
      const meta = e.metaKey;
      const shift = e.shiftKey;

      switch (e.which) {
        case 8:
          return 'backspace';
        case 9:
          return shift ? 's-tab' : 'tab';
        case 13:
          return 'enter';
        case 16:
          return 'shift';
        case 17:
          return 'ctrl';
        case 18:
          return 'alt';
        case 27:
          return 'escape';
        case 38:
          return 'up';
        case 40:
          return 'down';
        case 46:
          return 'delete';
        case 78:
          return ctrl ? 'ctrl-n' : 'n';
        case 80:
          return ctrl ? 'ctrl-p' : 'p';
        case 86:
          if (ctrl) return 'ctrl-v';
          if (meta) return 'ctrl-v';
          break;
        case 91:
        case 93:
        case 224:
          return 'meta';
      }

      if (ctrl) return 'ctrl-*';
      if (meta) return 'meta-*';
    },
  };

  class Clock {
    constructor(options) {
      this._el = $.el('#clock');
      this._amPm = options.amPm;
      this._delimiter = options.delimiter;
      this._showSeconds = options.showSeconds;
      this._twentyFourHour = options.twentyFourHour;
      this._setTime = this._setTime.bind(this);
      this._el.addEventListener('click', options.onClick);
      this._start();
    }

    _setTime() {
      const date = new Date();
      let hours = $.pad(date.getHours());
      let amPm = '';

      if (!this._twentyFourHour) {
        hours = date.getHours();
        if (hours > 12) hours -= 12;
        else if (hours === 0) hours = 12;
        if (this._amPm) amPm = date.getHours() >= 12 ? ' PM' : ' AM';
      }

      const minutes = this._delimiter + $.pad(date.getMinutes());
      const seconds = this._showSeconds
        ? this._delimiter + $.pad(date.getSeconds())
        : '';

      this._el.innerHTML = hours + minutes + seconds + amPm;
      this._el.setAttribute('datetime', date.toTimeString());
    }

    _start() {
      this._setTime();
      setInterval(this._setTime, 1000);
    }
  }

  class Help {
    constructor(options) {
      this._el = $.el('#help');
      this._commands = options.commands;
      this._newTab = options.newTab;
      this._toggled = false;
      this.toggle = this.toggle.bind(this);
      this._invertColors = options.invertedColors;
      this._handleKeydown = this._handleKeydown.bind(this);
      this._buildAndAppendLists();
      this._registerEvents();
      this._invertValue;
    }

    toggle(show) {
      this._toggled = typeof show !== 'undefined' ? show : !this._toggled;
      this._toggled ? $.bodyClassAdd('help') : $.bodyClassRemove('help');
    }

    _buildAndAppendLists() {
      const lists = document.createElement('ul');
      lists.classList.add('categories');

      this._getCategories().forEach((category) => {
        lists.insertAdjacentHTML(
          'beforeend',
          `<li class="category">
            <h2 class="category-name">${category}</h2>
            <ul>${this._buildListCommands(category)}</ul>
          </li>`
        );
      });

      this._el.appendChild(lists);
    }

    _buildListCommands(currentCategory) {
      return this._commands.reduce(
        (acc, { category, color, name, key, url }, i) => {
          if (category !== currentCategory) return acc;
          const target = this._newTab ? '_blank' : '_self';

          return `
            ${acc}
            <style>
              .command-key-${i},
              .command-name-${i}::after {
                background: ${color};
              }
            </style>
            <li class="command">
              <a href="${url}" target="${target}" rel="noopener noreferrer">
                <span class="command-key command-key-${i}">${key}</span>
                <span class="command-name command-name-${i}">${name}</span>
              </a>
            </li>
          `;
        },
        ''
      );
    }

    _getCategories() {
      const categories = this._commands
        .map((v) => v.category)
        .filter((category) => category);

      return [...new Set(categories)];
    }

    _handleKeydown(e) {
      if ($.whichKey(e) === 'escape') this.toggle(false);
    }

    _registerEvents() {
      document.addEventListener('keydown', this._handleKeydown);
    }
  }

  class Influencer {
    constructor(options) {
      this._limit = options.limit;
      this._minChars = options.minChars;
      this._parseQuery = options.parseQuery;
    }

    addItem() {
      return undefined;
    }

    getSuggestions() {
      return Promise.resolve([]);
    }

    _addSearchPrefix(items, query) {
      const { isSearch, key, split } = this._parseQuery(query);
      const searchPrefix = isSearch ? `${key}${split} ` : false;
      return items.map((s) => (searchPrefix ? searchPrefix + s : s));
    }

    _isTooShort(query) {
      return query.length < this._minChars;
    }
  }

  class DefaultInfluencer extends Influencer {
    constructor({ suggestionDefaults }) {
      super(...arguments);
      this._suggestionDefaults = suggestionDefaults;
    }

    getSuggestions(rawQuery) {
      if (this._isTooShort(rawQuery)) return Promise.resolve([]);

      return new Promise((resolve) =>
        resolve(
          (this._suggestionDefaults[rawQuery] || []).slice(0, this._limit)
        )
      );
    }
  }

  class DuckDuckGoInfluencer extends Influencer {
    constructor({ queryParser }) {
      super(...arguments);
    }

    getSuggestions(rawQuery) {
      const { query } = this._parseQuery(rawQuery);
      if (this._isTooShort(rawQuery) || !query) return Promise.resolve([]);

      return new Promise((resolve) => {
        const callback = 'autocompleteCallback';

        window[callback] = (res) => {
          const suggestions = res
            .map((i) => i.phrase)
            .filter((s) => s.toLowerCase() !== query.toLowerCase())
            .slice(0, this._limit);

          resolve(this._addSearchPrefix(suggestions, rawQuery));
        };

        const script = document.createElement('script');
        script.src = `https://duckduckgo.com/ac/?callback=${callback}&q=${query}`;
        $.el('head').appendChild(script);
      });
    }
  }

  class HistoryInfluencer extends Influencer {
    constructor() {
      super(...arguments);
      this._storeName = 'history';
    }

    static clearHistory() {
      localStorage.clear();
    }

    addItem(query) {
      if (query.length < 2) return;
      let exists;

      const history = this._getHistory().map(([item, count]) => {
        const match = item.toLowerCase() === query.toLowerCase();
        if (match) exists = true;
        return [item, match ? count + 1 : count];
      });

      if (!exists) history.push([query, 1]);

      const sorted = history
        .sort((current, next) => current[1] - next[1])
        .reverse();

      this._setHistory(sorted);
    }

    getSuggestions(rawQuery) {
      if (this._isTooShort(rawQuery)) return Promise.resolve([]);

      return new Promise((resolve) =>
        resolve(
          this._getHistory()
            .map(([item]) => item)
            .filter(
              (item) =>
                rawQuery &&
                item.toLowerCase() !== rawQuery.toLowerCase() &&
                item.toLowerCase().indexOf(rawQuery.toLowerCase()) !== -1
            )
            .slice(0, this._limit)
        )
      );
    }

    _fetch() {
      return JSON.parse(localStorage.getItem(this._storeName)) || [];
    }

    _getHistory() {
      this._history = this._history || this._fetch();
      return this._history;
    }

    _save(history) {
      localStorage.setItem(this._storeName, JSON.stringify(history));
    }

    _setHistory(history) {
      this._history = history;
      this._save(history);
    }
  }

  class Suggester {
    constructor(options) {
      this._el = $.el('#search-suggestions');
      this._influencers = options.influencers;
      this._limit = options.limit;
      this._currentInput = '';
      this._highlitedSuggestion = null;
      this._suggestionEls = [];
      this._handleKeydown = this._handleKeydown.bind(this);
      this._setSuggestions = this._setSuggestions.bind(this);
      this._registerEvents();
    }

    setOnClick(callback) {
      this._onClick = callback;
    }

    setOnHighlight(callback) {
      this._onHighlight = callback;
    }

    setOnUnhighlight(callback) {
      this._onUnhighlight = callback;
    }

    success(query) {
      this._influencers.forEach((i) => i.addItem(query));
      this._clearSuggestions();
    }

    suggest(input) {
      this._currentInput = input.trim();
      this._highlitedSuggestion = null;

      if (!this._currentInput) {
        this._clearSuggestions();
        return;
      }

      Promise.all(this._getInfluencers()).then(this._setSuggestions);
    }

    _buildSuggestionsHtml(suggestions) {
      return suggestions.slice(0, this._limit).reduce((acc, suggestion) => {
        const match = new RegExp($.escapeRegex(this._currentInput), 'i');
        const matched = suggestion.match(match);

        const suggestionHtml = matched
          ? suggestion.replace(
              match,
              `<span class="search-suggestion-match">${matched[0]}</span>`
            )
          : suggestion;

        return `
            ${acc}
            <li>
              <button
                type="button"
                class="js-search-suggestion search-suggestion"
                data-suggestion="${suggestion}"
                tabindex="-1"
              >
                ${suggestionHtml}
              </button>
            </li>
          `;
      }, '');
    }

    _clearSuggestionClickEvents() {
      this._suggestionEls.forEach((el) => {
        el.removeEventListener('click', this._onClick);
      });
    }

    _clearSuggestionHighlightEvents() {
      this._suggestionEls.forEach((el) => {
        el.removeEventListener('mouseover', this._highlight);
        el.removeEventListener('mouseout', this._unHighlight);
      });
    }

    _clearSuggestions() {
      $.bodyClassRemove('suggestions');
      this._clearSuggestionHighlightEvents();
      this._clearSuggestionClickEvents();
      this._el.innerHTML = '';
      this._highlitedSuggestion = null;
      this._suggestionEls = [];
    }

    _focusNext(e) {
      const exists = this._suggestionEls.some((el, i) => {
        if (el.classList.contains('highlight')) {
          this._highlight(this._suggestionEls[i + 1], e);
          return true;
        }
      });

      if (!exists) this._highlight(this._suggestionEls[0], e);
    }

    _focusPrevious(e) {
      const exists = this._suggestionEls.some((el, i) => {
        if (el.classList.contains('highlight') && i) {
          this._highlight(this._suggestionEls[i - 1], e);
          return true;
        }
      });

      if (!exists) this._unHighlight(e);
    }

    _getInfluencers() {
      return this._influencers.map((influencer) =>
        influencer.getSuggestions(this._currentInput)
      );
    }

    _handleKeydown(e) {
      if ($.isDown(e)) this._focusNext(e);
      if ($.isUp(e)) this._focusPrevious(e);
    }

    _highlight(el, e) {
      this._unHighlight();
      if (!el) return;
      this._highlitedSuggestion = el.getAttribute('data-suggestion');
      this._onHighlight(this._highlitedSuggestion);
      el.classList.add('highlight');
      if (e) e.preventDefault();
    }

    _registerEvents() {
      document.addEventListener('keydown', this._handleKeydown);
    }

    _registerSuggestionClickEvents() {
      this._suggestionEls.forEach((el) => {
        const value = el.getAttribute('data-suggestion');
        el.addEventListener('click', this._onClick.bind(null, value));
      });
    }

    _registerSuggestionHighlightEvents() {
      const noHighlightUntilMouseMove = () => {
        window.removeEventListener('mousemove', noHighlightUntilMouseMove);

        this._suggestionEls.forEach((el) => {
          el.addEventListener('mouseover', this._highlight.bind(this, el));
          el.addEventListener('mouseout', this._unHighlight.bind(this));
        });
      };

      window.addEventListener('mousemove', noHighlightUntilMouseMove);
    }

    _rehighlight() {
      if (!this._highlitedSuggestion) return;
      this._highlight($.el(`[data-suggestion="${this._highlitedSuggestion}"]`));
    }

    _setSuggestions(newSuggestions) {
      const suggestions = $.flattenAndUnique(newSuggestions);
      this._el.innerHTML = this._buildSuggestionsHtml(suggestions);
      this._suggestionEls = $.els('.js-search-suggestion');
      this._registerSuggestionHighlightEvents();
      this._registerSuggestionClickEvents();
      if (this._suggestionEls.length) $.bodyClassAdd('suggestions');
      this._rehighlight();
    }

    _unHighlight(e) {
      const el = $.el('.highlight');
      if (!el) return;
      this._onUnhighlight();
      el.classList.remove('highlight');
      if (e) e.preventDefault();
    }
  }

  class QueryParser {
    constructor(options) {
      this._commands = options.commands;
      this._searchDelimiter = options.searchDelimiter;
      this._pathDelimiter = options.pathDelimiter;
      this._scripts = options.scripts;
      this._protocolRegex = /^[a-zA-Z]+:\/\//i;
      this._urlRegex = /^((https?:\/\/)?[\w-]+(\.[\w-]+)+\.?(:\d+)?(\/\S*)?)$/i;
      this.parse = this.parse.bind(this);
    }

    parse(query) {
      const res = [];
      res.query = query;
      res.split = null;

      if (this._urlRegex.test(query)) {
        const hasProtocol = this._protocolRegex.test(query);
        res.redirect = hasProtocol ? query : 'http://' + query;
        res.color = QueryParser._getColorFromUrl(this._commands, res.redirect);
        return res;
      }

      const trimmed = query.trim();
      const splitSearch = trimmed.split(this._searchDelimiter);
      const splitPath = trimmed.split(this._pathDelimiter);

      const isScript = Object.entries(this._scripts).some(([key, script]) => {
        if (query === key) {
          res.key = key;
          res.isKey = true;
          script.forEach((command) => res.push(this.parse(command)));
          return true;
        }

        if (splitSearch[0] === key) {
          res.key = key;
          res.isSearch = true;
          res.split = this._searchDelimiter;
          res.query = QueryParser._shiftAndTrim(splitSearch, res.split);

          script.forEach((command) =>
            res.push(this.parse(`${command}${res.split}${res.query}`))
          );

          return true;
        }

        if (splitPath[0] === key) {
          res.key = key;
          res.split = this._pathDelimiter;
          res.path = QueryParser._shiftAndTrim(splitPath, res.split);

          script.forEach((command) =>
            res.push(this.parse(`${command}${this._pathDelimiter}${res.path}`))
          );

          return true;
        }
      });

      if (isScript) return res;

      this._commands.some(({ key, search, url }) => {
        if (query === key) {
          res.key = key;
          res.isKey = true;
          res.redirect = url;
          return true;
        }

        if (splitSearch[0] === key) {
          res.key = key;
          res.isSearch = true;
          res.split = this._searchDelimiter;
          res.query = QueryParser._shiftAndTrim(splitSearch, res.split);
          res.redirect = QueryParser._prepSearch(url, search, res.query);
          return true;
        }

        if (splitPath[0] === key) {
          res.key = key;
          res.split = this._pathDelimiter;
          res.path = QueryParser._shiftAndTrim(splitPath, res.split);
          res.redirect = QueryParser._prepPath(url, res.path);
          return true;
        }

        if (key === '*') {
          res.redirect = QueryParser._prepSearch(url, search, query);
        }
      });

      res.color = QueryParser._getColorFromUrl(this._commands, res.redirect);
      return res;
    }

    static _getColorFromUrl(commands, url) {
      const domain = new URL(url).hostname;
      const domainRegex = new RegExp(`${domain}$`);

      return (
        commands
          .filter((c) => domainRegex.test(new URL(c.url).hostname))
          .map((c) => c.color)[0] || null
      );
    }

    static _prepPath(url, path) {
      return QueryParser._stripUrlPath(url) + '/' + path;
    }

    static _prepSearch(url, searchPath, query) {
      if (!searchPath) return url;
      const baseUrl = QueryParser._stripUrlPath(url);
      const urlQuery = encodeURIComponent(query);
      searchPath = searchPath.replace(/{}/g, urlQuery);
      return baseUrl + searchPath;
    }

    static _shiftAndTrim(arr, delimiter) {
      arr.shift();
      return arr.join(delimiter).trim();
    }

    static _stripUrlPath(url) {
      const parser = document.createElement('a');
      parser.href = url;
      return `${parser.protocol}//${parser.hostname}`;
    }
  }

  class Form {
    constructor(options) {
      this._formEl = $.el('#search-form');
      this._inputEl = $.el('#search-input');
      this._inputElVal = '';
      this._instantRedirect = options.instantRedirect;
      this._newTab = options.newTab;
      this._parseQuery = options.parseQuery;
      this._suggester = options.suggester;
      this._toggleHelp = options.toggleHelp;
      this._clearPreview = this._clearPreview.bind(this);
      this._handleInput = this._handleInput.bind(this);
      this._handleKeydown = this._handleKeydown.bind(this);
      this._previewValue = this._previewValue.bind(this);
      this._submitForm = this._submitForm.bind(this);
      this._submitWithValue = this._submitWithValue.bind(this);
      this._invertColors = options.invertedColors;
      this.hide = this.hide.bind(this);
      this.show = this.show.bind(this);
      this._registerEvents();
      this._loadQueryParam();
      this.invert();
    }

    hide() {
      $.bodyClassRemove('form');
      this._inputEl.value = '';
      this._inputElVal = '';
      this._suggester.suggest('');
      this._setColorsFromQuery('');
    }

    show() {
      $.bodyClassAdd('form');
      this._inputEl.focus();
    }

    invert() {
        if (this._invertColors) {
          const bgcolor = getComputedStyle(document.documentElement).getPropertyValue('--base-background');
          const fgcolor = getComputedStyle(document.documentElement).getPropertyValue('--base-foreground');
          const txtbgcolor = getComputedStyle(document.documentElement).getPropertyValue('--help-background');
          const txtfgcolor = getComputedStyle(document.documentElement).getPropertyValue('--help-foreground');
          const neobgcolor = getComputedStyle(document.documentElement).getPropertyValue('--neoback');
          const neofgcolor = getComputedStyle(document.documentElement).getPropertyValue('--neofront');
          document.documentElement.style.setProperty('--base-background', fgcolor);
          document.documentElement.style.setProperty('--base-foreground', bgcolor);
          document.documentElement.style.setProperty('--help-background', txtfgcolor);
          document.documentElement.style.setProperty('--help-foreground', txtbgcolor);
          document.documentElement.style.setProperty('--neoback', neofgcolor);
          document.documentElement.style.setProperty('--neofront', neobgcolor);
        }
      }
  
      _invertConfig() {
        let isInverted = !CONFIG.invertedColors;
        localStorage.removeItem('invertColorCookie');
        localStorage.setItem('invertColorCookie', JSON.stringify(isInverted));
        location.reload();
      }

    _clearPreview() {
      this._previewValue(this._inputElVal);
      this._inputEl.focus();
    }

    _handleInput() {
      const newQuery = this._inputEl.value;
      const isHelp = newQuery === '?';
      const isInvert = newQuery === 'invert!';
      const { isKey } = this._parseQuery(newQuery);
      this._inputElVal = newQuery;
      this._suggester.suggest(newQuery);
      this._setColorsFromQuery(newQuery);
      if (!newQuery || isHelp) this.hide();
      if (isHelp) this._toggleHelp();
      if (isInvert) this._invertConfig();
      if (this._instantRedirect && isKey) this._submitWithValue(newQuery);
    }

    _handleKeydown(e) {
      if ($.isUp(e) || $.isDown(e) || $.isRemove(e)) return;

      switch ($.whichKey(e)) {
        case 'alt':
        case 'ctrl':
        case 'ctrl-*':
        case 'enter':
        case 'meta':
        case 'meta-*':
        case 'shift':
          return;
        case 'escape':
          this.hide();
          return;
      }

      this.show();
    }

    _loadQueryParam() {
      const q = new URLSearchParams(window.location.search).get('q');
      if (q) this._submitWithValue(q);
    }

    _previewValue(value) {
      this._inputEl.value = value;
      this._setColorsFromQuery(value);
    }

    _redirect(redirect, forceNewTab) {
      if (this._newTab || forceNewTab) {
        window.open(redirect, '_blank', 'noopener noreferrer');
      } else {
        window.location.href = redirect;
      }
    }

    _registerEvents() {
      document.addEventListener('keydown', this._handleKeydown);
      this._inputEl.addEventListener('input', this._handleInput);
      this._formEl.addEventListener('submit', this._submitForm, false);

      if (this._suggester) {
        this._suggester.setOnClick(this._submitWithValue);
        this._suggester.setOnHighlight(this._previewValue);
        this._suggester.setOnUnhighlight(this._clearPreview);
      }
    }

    _setColorsFromQuery(query) {
      const color = this._parseQuery(query).color;
      this._formEl.style.background = color || '';
    }

    _submitForm(e) {
      if (e) e.preventDefault();
      const query = this._inputEl.value;
      if (this._suggester) this._suggester.success(query);
      this.hide();
      const res = this._parseQuery(query);

      if (res.length) {
        res.forEach((r) => this._redirect(r.redirect, true));
        return;
      }

      this._redirect(res.redirect);
    }

    _submitWithValue(value) {
      this._inputEl.value = value;
      this._submitForm();
    }
  }

  class CommandParser {
    static commandHuesToColor(command) {
      const hsla = (hue, saturation = 'var(--command-color-saturation)') =>
        `hsla(${hue}, ${saturation}, var(--command-color-lightness), var(--command-color-alpha))`;

      if (command.color) return command;
      command.color = command.category ? hsla(0, '0%') : null;
      if (!command.hues) return command;

      if (command.hues.length === 1) {
        command.color = hsla(command.hues[0]);
        return command;
      }

      const c = command.hues.reduce((a, h) => `${a}, ${hsla(h)}`, '');
      command.color = `linear-gradient(var(--command-color-gradient) ${c})`;
      return command;
    }
  }

  const commands = CONFIG.commands.map(CommandParser.commandHuesToColor);

  const queryParser = new QueryParser({
    commands,
    pathDelimiter: CONFIG.queryPathDelimiter,
    scripts: CONFIG.scripts,
    searchDelimiter: CONFIG.querySearchDelimiter,
  });

  const influencers = CONFIG.suggestionInfluencers.map((influencerConfig) => {
    return new {
      Default: DefaultInfluencer,
      DuckDuckGo: DuckDuckGoInfluencer,
      History: HistoryInfluencer,
    }[influencerConfig.name]({
      limit: influencerConfig.limit,
      minChars: influencerConfig.minChars,
      parseQuery: queryParser.parse,
      suggestionDefaults: CONFIG.suggestionDefaults,
    });
  });

  const suggester = new Suggester({
    influencers,
    limit: CONFIG.suggestionLimit,
  });

  const help = new Help({
    commands,
    newTab: CONFIG.queryNewTab,
    invertedColors: CONFIG.invertedColors,
  });

  const form = new Form({
    instantRedirect: CONFIG.queryInstantRedirect,
    newTab: CONFIG.queryNewTab,
    parseQuery: queryParser.parse,
    suggester,
    toggleHelp: help.toggle,
    invertedColors: CONFIG.invertedColors,
  });

  new Clock({
    amPm: CONFIG.clockShowAmPm,
    delimiter: CONFIG.clockDelimiter,
    onClick: CONFIG.clockOnClickAction === 'Search' ? form.show : help.toggle,
    showSeconds: CONFIG.clockShowSeconds,
    twentyFourHour: CONFIG.clockTwentyFourHour,
  });
</script>







<style>
    .neomorph {
      color: var(--help-background) !important;
      text-shadow: var(--neofront);
    }
</style>
